#!/bin/bash

echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Portal..."

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDKMAN
source ~/.sdkman/bin/sdkman-init.sh

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Java 17
sdk use java 17.0.14-jbr

# –û—á–∏—Å—Ç–∫–∞ –ø–æ—Ä—Ç–∞ 8080
echo "üßπ –û—á–∏—Å—Ç–∫–∞ –ø–æ—Ä—Ç–∞ 8080..."
lsof -ti:8080 | xargs kill -9

# –û–∂–∏–¥–∞–Ω–∏–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ—Ä—Ç–∞
sleep 2

# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
echo "üî® –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
mvn clean compile

echo "üöÄ –ó–∞–ø—É—Å–∫ Jetty..."
mvn jetty:run